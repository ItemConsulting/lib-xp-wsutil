<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Client side web socket utility</h1><h2>Basic features</h2><table>
<thead>
<tr>
<th><strong>Name</strong></th>
<th><strong>Parameters</strong></th>
<th><strong>Definition</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>send()</code></td>
<td><em>message</em>: string,object</td>
<td>send a message to socket server</td>
</tr>
<tr>
<td><code>setEventHandler()</code></td>
<td><em>event</em>: string <em>handler</em>: function</td>
<td>sets a handler for a socket event</td>
</tr>
<tr>
<td><code>setEventHandlers()</code></td>
<td><em>handlers</em>: object</td>
<td>sets handlers for events. Handlers follow key=event value=handler</td>
</tr>
<tr>
<td><code>addHandlers()</code></td>
<td><em>event</em>: string <em>handler</em> function</td>
<td>Adds additional handlers for socket events</td>
</tr>
<tr>
<td><code>setDefaultHandler()</code></td>
<td><em>handler</em>: function</td>
<td>sets the default action handler for all events</td>
</tr>
<tr>
<td><code>new Io()</code></td>
<td></td>
<td>Create a new instance of a event emitting client. </td>
</tr>
</tbody>
</table>
<h2>Usage</h2><p>Your client library is served through the websocket service.</p>
<p>One thing to remember is the host parameter in the server <code>openWebsockets(exports, host)</code> call, sends the host value to 
the client library and uses that value to create a <code>new WebSocket(protocol + host)</code> instance. The <code>protocol</code> 
parameter is determined by the context of which the page is loaded. So if served behind a secure context
the <code>protocol</code> value will be <code>wss://</code> otherwise in develop mode or insecure context <code>ws://</code></p>
<p>To send the client library add a script tag to your page that want to use your websocket service</p>
<pre class="prettyprint source lang-html"><code>&lt;script src=&quot;mySite/_/service/com.my.app/websocket&quot;>&lt;/script></code></pre><p>The client library is ready to create the <code>new WebSocket(ws://mySite/_/service/com.my.app/websocket)</code> instance
which will open a websocket connection.</p>
<p>To actually open the connection, you need to implement the code that does the websocket logic, including connect.</p>
<p>Create a javaScript file in your assets folder and add it to your page with the client library</p>
<pre class="prettyprint source lang-html"><code>&lt;script src=&quot;mySite/_/asset/com.my.app/clientws.js&quot;>&lt;/script></code></pre><p>The minimal code needed to open a connection</p>
<pre class="prettyprint source lang-javascript"><code>// assets/clientws.js
var clientWs = new ExpWs();
clientWs.connect();

// More logic here if needed</code></pre><p><strong>IMPORTANT</strong> The library must be loaded first.</p></article>
    </section>






</div>

<nav>
    <h2><a href="../index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ExpWS.WS.html">WS</a></li><li><a href="Io.html">Io</a></li></ul><h3>Namespaces</h3><ul><li><a href="ExpWS.html">ExpWS</a></li></ul><h3>Interfaces</h3><ul><li><a href="ClientWS.html">ClientWS</a></li><li><a href="IoInterface.html">IoInterface</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Jun 15 2018 14:52:47 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>