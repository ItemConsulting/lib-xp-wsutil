<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Enonic XP web socket utility library</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>


    <h3></h3>


    <section>
        <article><h1>Enonic XP websocket utility library</h1>
            <p>This library extends the Enonic XP websocket library with additional features to
                make socket integration easier to handle for both server and client side. These additional features include
            <ul>
                <li>Automatic JSON communication</li>
                <li>Open websocket communication with 6 lines of code</li>
                <li>Automatic production mode</li>
                <li>Main thread handler and additional handlers for background tasks</li>
                <li>Make library extensions easy</li>
                <li>Buildt-in library extension with Socket Event Emitter</li>
                <li>Easier group handling with automatic group creations and user list</li>
            </ul>
                The library includes both client side lib
                and server side lib</p>
            <h2>Usage</h2>
            <p>Start your websocket communication in just 6 lines of code</p>
            <p>This is the server side handler. The library expect the handler to be under <code>services/websocket/websocket.js</code></p>
            <pre class="prettyprint source lang-javascript"><code>var ws = require('/lib/wsUtil');

ws.openWebsockets(exports);</code></pre>
            <p>Or for some custom path  <code>services/sockethandler/sockethandler.js</code></p>
            <pre class="prettyprint source lang-javascript"><code>var ws = require('/lib/wsUtil');
var portal = require('/lib/xp/portal');

ws.openWebsockets(exports, portal.serviceUrl({ service: 'sockethandler' }));</code></pre>

            <h3>Client side implementation</h3>
            <p>You need two files to load from your client
                <ol>
                    <li>The client library</li>
                    <li>The client side implementation</li>
                </ol>
                <pre class="prettyprint source lang-html">
                    <code>&lt;script src="${client.lib}"&gt;&lt;/script&gt;
&lt;script src="${client.code}"&gt;&lt;/script&gt;
</code>
                </pre>
            </p>
            <p>The client side javascript implementation only needs to create a new instance of the websocket object and connect. The library will take care of host name and protocol. Remember to be sure that the client library is loaded before creating an instance.</p>
            <pre class="prettyprint source lang-javascript">
                <code>var cws = new ExpWS();
cws.connect();</code>
            </pre>
            <h2>Contents</h2>
            <p><a href="server/index.html">Server API</a></p>
            <p><a href="client/index.html">Client API</a></p>
            <p><a href="tutorial.html">Tutorials</a></p>
            <p><a href="extensions.html">Creating extensions</a></p>
            <h2>How it works</h2>
            <p>The server side <code>openWebsockets</code> takes the serviceÂ´s <code>exports</code> object as a parameter.</p>
            <p>It then sets up the websocket communication for you. It does that by injecting the exports get method with handlers. The first request to the service would be to get the client library, so the method will return the client library. The second request would usually be to open a websocket connection, and so the service will then open the connection</p></article>
    </section>


</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
    <h3>API</h3>
    <ul>
        <li><a href="server/index.html">Server</a></li>
        <li><a href="client/index.html">Client</a></li>
    </ul>
    <h3><a href="tutorial.html">Tutorial</a></h3>
    <h3><a href="extensions.html">Creating extensions</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Oct 06 2017 09:15:00
    GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
